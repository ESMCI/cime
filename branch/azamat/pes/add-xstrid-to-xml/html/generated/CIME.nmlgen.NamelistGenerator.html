

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CIME.nmlgen.NamelistGenerator &mdash; CIME master documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-toolbox-code.css" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=3d7e66fe" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=30d551ce"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CIME.provenance" href="CIME.provenance.html" />
    <link rel="prev" title="CIME.nmlgen" href="CIME.nmlgen.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CIME
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ccs/index.html">Case Control System (CCS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system_testing.html">System Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers/Contributors</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../contributing-guide.html">Contributing Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="CIME.baselines.html">CIME.baselines</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.build_scripts.html">CIME.build_scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.BuildTools.html">CIME.BuildTools</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.case.html">CIME.case</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.data.html">CIME.data</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.non_py.html">CIME.non_py</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.ParamGen.html">CIME.ParamGen</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.scripts.html">CIME.scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.Servers.html">CIME.Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.SystemTests.html">CIME.SystemTests</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.Tools.html">CIME.Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.XML.html">CIME.XML</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.aprun.html">CIME.aprun</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.bless_test_results.html">CIME.bless_test_results</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.build.html">CIME.build</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.buildlib.html">CIME.buildlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.buildnml.html">CIME.buildnml</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.code_checker.html">CIME.code_checker</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.compare_namelists.html">CIME.compare_namelists</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.compare_test_results.html">CIME.compare_test_results</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.config.html">CIME.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.cs_status_creator.html">CIME.cs_status_creator</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.cs_status.html">CIME.cs_status</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.date.html">CIME.date</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.expected_fails.html">CIME.expected_fails</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.get_tests.html">CIME.get_tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.get_timing.html">CIME.get_timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.gitinterface.html">CIME.gitinterface</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.hist_utils.html">CIME.hist_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.jenkins_generic_job.html">CIME.jenkins_generic_job</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.locked_files.html">CIME.locked_files</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.namelist.html">CIME.namelist</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="CIME.nmlgen.html">CIME.nmlgen</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">CIME.nmlgen.NamelistGenerator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator"><code class="docutils literal notranslate"><span class="pre">NamelistGenerator</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="CIME.provenance.html">CIME.provenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.simple_compare.html">CIME.simple_compare</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.status.html">CIME.status</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.test_scheduler.html">CIME.test_scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.test_status.html">CIME.test_status</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.user_mod_support.html">CIME.user_mod_support</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.utils.html">CIME.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="CIME.wait_for_tests.html">CIME.wait_for_tests</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CIME</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API</a></li>
          <li class="breadcrumb-item"><a href="CIME.nmlgen.html">CIME.nmlgen</a></li>
      <li class="breadcrumb-item active">CIME.nmlgen.NamelistGenerator</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/CIME.nmlgen.NamelistGenerator.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cime-nmlgen-namelistgenerator">
<h1>CIME.nmlgen.NamelistGenerator<a class="headerlink" href="#cime-nmlgen-namelistgenerator" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CIME.nmlgen.</span></span><span class="sig-name descname"><span class="pre">NamelistGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">case</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">definition_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Utility class for generating namelists for a given component.</p>
<blockquote>
<div><p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></p></td>
<td><p>Construct a namelist generator.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.add_default" title="CIME.nmlgen.NamelistGenerator.add_default"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_default</span></code></a></p></td>
<td><p>Add a value for the specified variable to the namelist.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.add_defaults_for_group" title="CIME.nmlgen.NamelistGenerator.add_defaults_for_group"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_defaults_for_group</span></code></a></p></td>
<td><p>Call add_default for namelist variables in the given group</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.add_nmlcontents" title="CIME.nmlgen.NamelistGenerator.add_nmlcontents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_nmlcontents</span></code></a></p></td>
<td><p>Write only contents of nml group</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean_streams</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.confirm_group_is_empty" title="CIME.nmlgen.NamelistGenerator.confirm_group_is_empty"><code class="xref py py-obj docutils literal notranslate"><span class="pre">confirm_group_is_empty</span></code></a></p></td>
<td><p>Confirms that no values have been added to the given group</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.create_shr_strdata_nml" title="CIME.nmlgen.NamelistGenerator.create_shr_strdata_nml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_shr_strdata_nml</span></code></a></p></td>
<td><p>Set defaults for <cite>shr_strdata_nml</cite> variables other than the variable domainfile</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.create_stream_file_and_update_shr_strdata_nml" title="CIME.nmlgen.NamelistGenerator.create_stream_file_and_update_shr_strdata_nml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_stream_file_and_update_shr_strdata_nml</span></code></a></p></td>
<td><p>Write the pseudo-XML file corresponding to a given stream.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.get_default" title="CIME.nmlgen.NamelistGenerator.get_default"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_default</span></code></a></p></td>
<td><p>Get the value of a variable from the namelist definition file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_group_variables</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.get_streams" title="CIME.nmlgen.NamelistGenerator.get_streams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_streams</span></code></a></p></td>
<td><p>Get a list of all streams used for the current data model  mode.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.get_value" title="CIME.nmlgen.NamelistGenerator.get_value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_value</span></code></a></p></td>
<td><p>Get the current value of a given namelist variable.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.init_defaults" title="CIME.nmlgen.NamelistGenerator.init_defaults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_defaults</span></code></a></p></td>
<td><p>Return array of names of all definition nodes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.new_instance" title="CIME.nmlgen.NamelistGenerator.new_instance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">new_instance</span></code></a></p></td>
<td><p>Clean the object just enough to introduce a new instance</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.quote_string" title="CIME.nmlgen.NamelistGenerator.quote_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">quote_string</span></code></a></p></td>
<td><p>Convert a string to a quoted Fortran literal.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.rename_group" title="CIME.nmlgen.NamelistGenerator.rename_group"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rename_group</span></code></a></p></td>
<td><p>Pass through to namelist definition</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.set_abs_file_path" title="CIME.nmlgen.NamelistGenerator.set_abs_file_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_abs_file_path</span></code></a></p></td>
<td><p>If <cite>file_path</cite> is relative, make it absolute using <cite>DIN_LOC_ROOT</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.set_value" title="CIME.nmlgen.NamelistGenerator.set_value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_value</span></code></a></p></td>
<td><p>Set the current value of a given namelist variable.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.update_shr_strdata_nml" title="CIME.nmlgen.NamelistGenerator.update_shr_strdata_nml"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_shr_strdata_nml</span></code></a></p></td>
<td><p>Updates values for the <cite>shr_strdata_nml</cite> namelist group.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.write_modelio_file" title="CIME.nmlgen.NamelistGenerator.write_modelio_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_modelio_file</span></code></a></p></td>
<td><p>Write mct component modelio files</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.write_nuopc_config_file" title="CIME.nmlgen.NamelistGenerator.write_nuopc_config_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_nuopc_config_file</span></code></a></p></td>
<td><p>Write the nuopc config file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.write_nuopc_modelio_file" title="CIME.nmlgen.NamelistGenerator.write_nuopc_modelio_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_nuopc_modelio_file</span></code></a></p></td>
<td><p>Write nuopc component modelio files</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.write_output_file" title="CIME.nmlgen.NamelistGenerator.write_output_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_output_file</span></code></a></p></td>
<td><p>Write out the namelists and input data files.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#CIME.nmlgen.NamelistGenerator.write_seq_maps" title="CIME.nmlgen.NamelistGenerator.write_seq_maps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_seq_maps</span></code></a></p></td>
<td><p>Write mct out seq_maps.rc</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.add_default">
<span class="sig-name descname"><span class="pre">add_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_abs_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.add_default" title="Link to this definition"></a></dt>
<dd><p>Add a value for the specified variable to the namelist.</p>
<p>If the specified variable is already defined in the object, the existing
value is preserved. Otherwise, the <cite>value</cite> argument, if provided, will
be used to set the value. If no such value is found, the defaults file
will be consulted. If null values are present in any of the above, the
result will be a merged array of values.</p>
<p>If no value for the variable is found via any of the above, this method
will raise an exception.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.add_defaults_for_group">
<span class="sig-name descname"><span class="pre">add_defaults_for_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.add_defaults_for_group" title="Link to this definition"></a></dt>
<dd><p>Call add_default for namelist variables in the given group</p>
<p>This still skips variables that have attributes of skip_default_entry or
per_stream_entry.</p>
<p>This must be called after init_defaults. It is often paired with use of
skip_default_for_groups in the init_defaults call.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.add_nmlcontents">
<span class="sig-name descname"><span class="pre">add_nmlcontents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nmlcontents'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sorted_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.add_nmlcontents" title="Link to this definition"></a></dt>
<dd><p>Write only contents of nml group</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.confirm_group_is_empty">
<span class="sig-name descname"><span class="pre">confirm_group_is_empty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errmsg</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.confirm_group_is_empty" title="Link to this definition"></a></dt>
<dd><p>Confirms that no values have been added to the given group</p>
<p>If any values HAVE been added to this group, aborts with the given error message.</p>
<p>This is often paired with use of skip_default_for_groups in the init_defaults call
and add_defaults_for_group, as in:</p>
<blockquote>
<div><dl class="simple">
<dt>if nmlgen.get_value(“enable_frac_overrides”) == “.true.”:</dt><dd><p>nmlgen.add_defaults_for_group(“glc_override_nml”)</p>
</dd>
<dt>else:</dt><dd><p>nmlgen.confirm_empty(“glc_override_nml”, “some message”)</p>
</dd>
</dl>
</div></blockquote>
<p>Args:
group_name: string - name of namelist group
errmsg: string - error message to print if group is not empty</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.create_shr_strdata_nml">
<span class="sig-name descname"><span class="pre">create_shr_strdata_nml</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.create_shr_strdata_nml" title="Link to this definition"></a></dt>
<dd><p>Set defaults for <cite>shr_strdata_nml</cite> variables other than the variable domainfile</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.create_stream_file_and_update_shr_strdata_nml">
<span class="sig-name descname"><span class="pre">create_stream_file_and_update_shr_strdata_nml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caseroot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list_path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.create_stream_file_and_update_shr_strdata_nml" title="Link to this definition"></a></dt>
<dd><p>Write the pseudo-XML file corresponding to a given stream.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>config - Used to look up namelist defaults. This is used <em>in addition</em> to the <cite>config</cite> used to construct the namelist generator. The main reason to supply additional configuration options here is to specify stream-specific settings.
caseroot - Path to the case root directory.
stream - Name of the stream.
stream_path - Path to write the stream file to.
data_list_path - Path of file to append input data information to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.get_default">
<span class="sig-name descname"><span class="pre">get_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_none</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.get_default" title="Link to this definition"></a></dt>
<dd><p>Get the value of a variable from the namelist definition file.</p>
<p>The <cite>config</cite> argument is passed through to the underlying
<cite>NamelistDefaults.get_value</cite> call as the <cite>attribute</cite> argument.</p>
<p>The return value of this function is a list of values that were found in
the defaults file. If there is no matching default, this function
returns <cite>None</cite> if <cite>allow_none=True</cite> is passed, otherwise an error is
raised.</p>
<p>Note that we perform some translation of the values, since there are a
few differences between Fortran namelist literals and values in the
defaults file:
1) In the defaults file, whitespace is ignored except within strings, so
the output of this function strips out most whitespace. (This implies
that commas are the only way to separate array elements in the
defaults file.)
2) In the defaults file, quotes around character literals (strings) are
optional, as long as the literal does not contain whitespace, commas,
or (single or double) quotes. If a setting for a character variable
does not seem to have quotes (and is not a null value), this function
will add them.
3) Default values may refer to variables in a case’s <cite>env_*.xml</cite> files.
This function replaces references of the form <cite>$VAR</cite> or <cite>${VAR}</cite> with
the value of the variable <cite>VAR</cite> in an env file, if that variable
exists. This behavior is suppressed within single-quoted strings
(similar to parameter expansion in shell scripts).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.get_streams">
<span class="sig-name descname"><span class="pre">get_streams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.get_streams" title="Link to this definition"></a></dt>
<dd><p>Get a list of all streams used for the current data model  mode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.get_value">
<span class="sig-name descname"><span class="pre">get_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.get_value" title="Link to this definition"></a></dt>
<dd><p>Get the current value of a given namelist variable.</p>
<p>Note that the return value of this function is always a string or a list
of strings. E.g. the scalar logical value .false. will be returned as
<cite>“.false.”</cite>, while an array of two .false. values will be returned as
<cite>[“.false.”, “.false.”]</cite>. Whether or not a value is scalar is determined
by checking the array size in the namelist definition file.</p>
<p>Null values are converted to <cite>None</cite>, and repeated values are expanded,
e.g. <cite>[‘2*3’]</cite> is converted to <cite>[‘3’, ‘3’, ‘3’]</cite>.</p>
<p>For character variables, the value is converted to a Python string (e.g.
quotation marks are removed).</p>
<p>All other literals are returned as the raw string values that will be
written to the namelist.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.init_defaults">
<span class="sig-name descname"><span class="pre">init_defaults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_entry_loop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_default_for_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_group_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.init_defaults" title="Link to this definition"></a></dt>
<dd><p>Return array of names of all definition nodes</p>
<p>infiles should be a list of file paths, each one giving namelist settings that
take precedence over the default values. Often there will be only one file in this
list. If there are multiple files, earlier files take precedence over later files.</p>
<p>If skip_default_for_groups is provided, it should be a list of namelist group
names; the add_default call will not be done for any variables in these
groups. This is often paired with later conditional calls to
add_defaults_for_group.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.new_instance">
<span class="sig-name descname"><span class="pre">new_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.new_instance" title="Link to this definition"></a></dt>
<dd><p>Clean the object just enough to introduce a new instance</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.quote_string">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">quote_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.quote_string" title="Link to this definition"></a></dt>
<dd><p>Convert a string to a quoted Fortran literal.</p>
<p>Does nothing if the string appears to be quoted already.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.rename_group">
<span class="sig-name descname"><span class="pre">rename_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newgroup</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.rename_group" title="Link to this definition"></a></dt>
<dd><p>Pass through to namelist definition</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.set_abs_file_path">
<span class="sig-name descname"><span class="pre">set_abs_file_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.set_abs_file_path" title="Link to this definition"></a></dt>
<dd><p>If <cite>file_path</cite> is relative, make it absolute using <cite>DIN_LOC_ROOT</cite>.</p>
<p>If an absolute path is input, it is returned unchanged.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.set_value">
<span class="sig-name descname"><span class="pre">set_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.set_value" title="Link to this definition"></a></dt>
<dd><p>Set the current value of a given namelist variable.</p>
<p>Usually, you should use <cite>add_default</cite> instead of this function.</p>
<p>The <cite>name</cite> argument is the name of the variable to set, and the <cite>value</cite>
is a list of strings to use as settings. If the variable is scalar, the
list is optional; i.e. a scalar logical can be set using either
<cite>value=’.false.’</cite> or <cite>value=[‘.false.’]</cite>. If the variable is of type
character, and the input is missing quotes, quotes will be added
automatically. If <cite>None</cite> is provided in place of a string, this will be
translated to a null value.</p>
<p>Note that this function will overwrite the current value, which may hold
a user-specified setting. Even if <cite>value</cite> is (or contains) a null value,
the old setting for the variable will be thrown out completely.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.update_shr_strdata_nml">
<span class="sig-name descname"><span class="pre">update_shr_strdata_nml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.update_shr_strdata_nml" title="Link to this definition"></a></dt>
<dd><p>Updates values for the <cite>shr_strdata_nml</cite> namelist group.</p>
<p>This should be done once per stream, and it shouldn’t usually be called
directly, since <cite>create_stream_file</cite> calls this method itself.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.write_modelio_file">
<span class="sig-name descname"><span class="pre">write_modelio_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.write_modelio_file" title="Link to this definition"></a></dt>
<dd><p>Write mct component modelio files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.write_nuopc_config_file">
<span class="sig-name descname"><span class="pre">write_nuopc_config_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sorted_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.write_nuopc_config_file" title="Link to this definition"></a></dt>
<dd><p>Write the nuopc config file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.write_nuopc_modelio_file">
<span class="sig-name descname"><span class="pre">write_nuopc_modelio_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.write_nuopc_modelio_file" title="Link to this definition"></a></dt>
<dd><p>Write nuopc component modelio files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.write_output_file">
<span class="sig-name descname"><span class="pre">write_output_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">namelist_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sorted_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.write_output_file" title="Link to this definition"></a></dt>
<dd><p>Write out the namelists and input data files.</p>
<p>The <cite>namelist_file</cite> and <cite>modelio_file</cite> are the locations to which the
component and modelio namelists will be written, respectively. The
<cite>data_list_path</cite> argument is the location of the <cite>*.input_data_list</cite>
file, which will have the input data files added to it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CIME.nmlgen.NamelistGenerator.write_seq_maps">
<span class="sig-name descname"><span class="pre">write_seq_maps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/esmci/cime/blob/master/CIME/nmlgen.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#CIME.nmlgen.NamelistGenerator.write_seq_maps" title="Link to this definition"></a></dt>
<dd><p>Write mct out seq_maps.rc</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="CIME.nmlgen.html" class="btn btn-neutral float-left" title="CIME.nmlgen" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CIME.provenance.html" class="btn btn-neutral float-right" title="CIME.provenance" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, U.S. National Science Foundation and U.S. Department of Energy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
<script>var version_json_loc = "../../../versions.json";</script>


</footer>
        </div>
      </div>
    </section>
  </div>
  

  <script type="text/javascript">
    let baseUriRegex = /(.*\/cime)\/.*/g;
    let parsedUri = baseUriRegex.exec(document.baseURI);

    if (parsedUri != null && parsedUri.length == 2) {
      let baseUri = parsedUri[1];

      $.get(`${baseUri}/versions/versions.json`, function(data) {
        let versionElement = $("#versions");

        Object.keys(data).forEach(function(key) {
          let value = data[key];

          let item = `<dd><a href="${baseUri}/versions/${key}/html/">${value}</a></dd>`

          versionElement.append(item);
        });
      });
    }
  </script>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: master
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl id="versions">
        <dt>Versions</dt>
      </dl>
      
      
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>