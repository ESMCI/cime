

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Case Control System (CCS) &mdash; CIME master documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-toolbox-code.css" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=3d7e66fe" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=30d551ce"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Query configuration" href="query-configuration.html" />
    <link rel="prev" title="CIME documentation" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CIME
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Case Control System (CCS)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="query-configuration.html">Query configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-config.html">User Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating-a-case.html">Creating a Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="setting-up-a-case.html">Setting up a Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="building-a-case.html">Building a Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="running-a-case.html">Running a Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="cloning-a-case.html">Cloning a Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="customizing-inputs.html">Customizing Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="timers.html">Timers</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi-instance.html">Multi-instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-configuration/index.html">Model Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../system_testing.html">System Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers/Contributors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing-guide.html">Contributing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CIME</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Case Control System (CCS)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/ccs/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="case-control-system-ccs">
<h1>Case Control System (CCS)<a class="headerlink" href="#case-control-system-ccs" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#prerequisites" id="id1">Prerequisites</a></p></li>
<li><p><a class="reference internal" href="#quick-start" id="id2">Quick start</a></p></li>
<li><p><a class="reference internal" href="#what-is-a-case" id="id3">What is a Case?</a></p>
<ul>
<li><p><a class="reference internal" href="#component-set-compset" id="id4">Component set (compset)</a></p>
<ul>
<li><p><a class="reference internal" href="#compset-alias" id="id5">Compset alias</a></p></li>
<li><p><a class="reference internal" href="#components" id="id6">Components</a></p>
<ul>
<li><p><a class="reference internal" href="#component-types" id="id7">Component Types</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-grid" id="id8">Model grid</a></p></li>
<li><p><a class="reference internal" href="#machine" id="id9">Machine</a></p></li>
<li><p><a class="reference internal" href="#compiler" id="id10">Compiler</a></p></li>
<li><p><a class="reference internal" href="#customizations" id="id11">Customizations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#setting-up-your-environment-for-ccs" id="id12">Setting up your environment for CCS</a></p></li>
</ul>
</nav>
<section id="prerequisites">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>CIME-driven model (E3SM, CESM, etc)</p></li>
<li><p>Access to a machine supported by the model</p></li>
<li><p>Familiarity with basic climate modeling concepts</p></li>
<li><p>Familiarity with UNIX command line terminals and development environment</p></li>
<li><p>Python interpreter &gt;= 3.8</p></li>
</ul>
</section>
<section id="quick-start">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Quick start</a><a class="headerlink" href="#quick-start" title="Link to this heading"></a></h2>
<p>The first thing to do is clone the model repository into <code class="docutils literal notranslate"><span class="pre">$SRCROOT</span></code>.</p>
<p>All examples will be run from <code class="docutils literal notranslate"><span class="pre">$CIMEROOT</span></code> which is should exist under <code class="docutils literal notranslate"><span class="pre">$SRCROOT</span></code> e.g. (<code class="docutils literal notranslate"><span class="pre">$CIMEROOT</span></code> would be <code class="docutils literal notranslate"><span class="pre">$SRCROOT/cime</span></code>).</p>
<p>Next set the <code class="docutils literal notranslate"><span class="pre">CIME_MODEL</span></code> evnironment variable for your model, e.g. <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">CIME_MODEL=e3sm</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Check if your machine is supported by the model.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/query_config<span class="w"> </span>--machines
</pre></div>
</div>
</div>
<p>The following command will create a directory <code class="docutils literal notranslate"><span class="pre">mycase</span></code> using the <code class="docutils literal notranslate"><span class="pre">X</span></code> compset and <code class="docutils literal notranslate"><span class="pre">f19_g16</span></code> grid. The machine will be auto-detected but it can be defined with <code class="docutils literal notranslate"><span class="pre">--machine</span> <span class="pre">&lt;name&gt;</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/create_newcase<span class="w"> </span>--case<span class="w"> </span>mycase<span class="w"> </span>--compset<span class="w"> </span>X<span class="w"> </span>--res<span class="w"> </span>f19_g16
</pre></div>
</div>
<p>After the case is setup, change into the directory <code class="docutils literal notranslate"><span class="pre">mycase</span></code> and run the following commands to setup, build and submit the case.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./case.setup
./case.build
./case.submit
</pre></div>
</div>
<p>After the case is submitted, the status can be checked with <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">./CaseStatus</span></code>.</p>
</section>
<section id="what-is-a-case">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">What is a Case?</a><a class="headerlink" href="#what-is-a-case" title="Link to this heading"></a></h2>
<p>A case is an instance of a global climate model simulation. It is defined by several key elements:
a component set, a model grid, a machine, a compiler, and any additional customizations. Each case
represents a unique configuration and setup for running climate simulations, allowing researchers
to explore various scenarios and configurations.</p>
<p>The following sections will delve into these key components in more detail.</p>
<section id="component-set-compset">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Component set (compset)</a><a class="headerlink" href="#component-set-compset" title="Link to this heading"></a></h3>
<p>A combination of active, data, and stub components that are linked together to form a climate model.
The CCS allows one to define a <em>component set</em> (or <em>compset</em>) for a case. The CCS allows one to define
several possible compsets, configure and run them on supported platforms. Here is an example of a compset
<code class="docutils literal notranslate"><span class="pre">longname</span></code> from E3SM for a fully coupled active case:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1850</span><span class="n">SOI_EAM</span><span class="o">%</span><span class="n">CMIP6_ELM</span><span class="o">%</span><span class="n">CNPRDCTCBCTOP_MPASSI_MPASO_MOSART_SGLC_SWAV</span>
</pre></div>
</div>
<section id="compset-alias">
<h4><a class="toc-backref" href="#id5" role="doc-backlink">Compset alias</a><a class="headerlink" href="#compset-alias" title="Link to this heading"></a></h4>
<p>Compset longnames can be long and complex, CCS allows one to deinfe a <code class="docutils literal notranslate"><span class="pre">compset</span> <span class="pre">alias</span></code> to represent a longname.
The above longname can be referred to as “WCYCL1850” in E3SM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<blockquote>
<div><p>Long ago, CESM established a convention for the first letter in a compset alias based
on the combination of active, data, and stub components.
If you see mention of “B-case” or “F-case”, it comes from these conventions.
They pre-date the introduction of a wave model as an option.</p>
</div></blockquote>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>A</p></td>
<td><p>All data models</p></td>
</tr>
<tr class="row-even"><td><p>B</p></td>
<td><p>All models fully active with stub glc</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td><p>Active ocean with data atm, river and sea ice. stub lnd, glc</p></td>
</tr>
<tr class="row-even"><td><p>D</p></td>
<td><p>Active sea ice with data atm, ocean (slab) and river. stub lnd, glc</p></td>
</tr>
<tr class="row-odd"><td><p>E</p></td>
<td><p>Active atm, lnd, sea-ice, river, data ocean (slab), stub glc</p></td>
</tr>
<tr class="row-even"><td><p>F</p></td>
<td><p>Active atm, lnd, river, sea-ice (thermodynamics only), data ocean (fixed SST), stub glc</p></td>
</tr>
<tr class="row-odd"><td><p>G</p></td>
<td><p>Active ocean and sea ice, data atmosphere and river, stub lnd and glc</p></td>
</tr>
<tr class="row-even"><td><p>H</p></td>
<td><p>Active ocean and sea ice, data atmosphere, stub lnd, river and glc</p></td>
</tr>
<tr class="row-odd"><td><p>I</p></td>
<td><p>Active land and river model, data atmosphere, stub ocn, sea-ice, glc</p></td>
</tr>
<tr class="row-even"><td><p>IG</p></td>
<td><p>Active land, river and ice-sheet, data atmosphere, stub ocn, sea-ice</p></td>
</tr>
<tr class="row-odd"><td><p>X</p></td>
<td><p>All x-compsets (2D sine waves for each component except stub glc; for testing only)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="components">
<h4><a class="toc-backref" href="#id6" role="doc-backlink">Components</a><a class="headerlink" href="#components" title="Link to this heading"></a></h4>
<p>In the CCS a <code class="docutils literal notranslate"><span class="pre">component</span></code> is a sub-model that is coupled with other components to constitute a global climate modeling system.</p>
<p>There are 7 domains in the Earth System that are typically represented by components in a coupled climate model. These domains are:</p>
<ul class="simple">
<li><p>atmosphere (atm)</p></li>
<li><p>ocean (ocn)</p></li>
<li><p>sea-ice (ice)</p></li>
<li><p>land surface (lnd)</p></li>
<li><p>river (rof)</p></li>
<li><p>ice sheet (glc)</p></li>
<li><p>ocean waves (wav)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“GLC” originally meant “glacier model” and is now an ice-sheet model but the GLC letters have stuck.</p>
</div>
<p>Components are also referred to as <code class="docutils literal notranslate"><span class="pre">sub-models</span></code>. The choice of 7 is partly historical and partly determined by the physics of the
Earth System: these 7 components occupy physically distinct domains in the Earth System and/or require different numerical grids for solving.</p>
<p>There are a few additional components that are not related to the Earth System. The <em>coupler</em> facilitates the interaction of component models. The <em>external processing system</em> and <em>integrated assessment component</em> are both optional and interact with component models outside of the <em>coupler</em>.</p>
<ul class="simple">
<li><p>coupler (cpl)</p></li>
<li><p>external processing system (esp)</p></li>
<li><p>integrated assessment component (iac)</p></li>
</ul>
<section id="component-types">
<h5><a class="toc-backref" href="#id7" role="doc-backlink">Component Types</a><a class="headerlink" href="#component-types" title="Link to this heading"></a></h5>
<p>For each of the 7 physical components (models), there can be three different implementations in a CIME-driven coupled model.</p>
<dl class="simple">
<dt>active</dt><dd><p>Solve a complex set of equations to describe the model’s behavior. Also called <em>prognostic</em> or <em>full</em> models.
These can be full General Circulation Models. Multiple active models might be available (for example MOM and MPAS-ocean to represent the global ocean) but only one ocean or atmosphere model at a time can be used in a component set.</p>
</dd>
<dt>data</dt><dd><p>For some climate problems, it is necessary to reduce feedbacks within the system by replacing an active model with a
version that sends and receives the same variables to and from other models, but with the values read from files rather
than computed from the equations. The values received are ignored. These active-model substitutes are called <em>data models</em>.</p>
</dd>
<dt>stub</dt><dd><p>For some configurations, no data model is needed and one instead uses a <em>stub</em> version that simply occupies the
required place in the driver and does not send or receive any data. For example, if you are setting up an aqua-planet case
you would only need a stub for the land model.</p>
</dd>
</dl>
</section>
</section>
</section>
<section id="model-grid">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Model grid</a><a class="headerlink" href="#model-grid" title="Link to this heading"></a></h3>
<p>Each active model must solve its equations on a numerical grid. CIME allows models within the system to have
different grids. The resulting set of all numerical grids is called the <em>grid set</em> or usually just the <em>grid</em>. Like
the compset longname, the CCS allows one to define an alias to represent a grid set. This alias is also referred to
as the <em>grid</em> or sometimes the <em>resolution</em>.</p>
</section>
<section id="machine">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Machine</a><a class="headerlink" href="#machine" title="Link to this heading"></a></h3>
<p>The <em>machine</em> is the computer you are using to run CIME to build and run the climate model. It could be a workstation or a supercomputer. The exact name of  <em>machine</em> is typically the UNIX hostname but it could be any string.</p>
</section>
<section id="compiler">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Compiler</a><a class="headerlink" href="#compiler" title="Link to this heading"></a></h3>
<p>A machine may have one or more versions of Fortran, C, and C++ <em>compilers</em> that are needed to compile the model’s source code.</p>
</section>
<section id="customizations">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Customizations</a><a class="headerlink" href="#customizations" title="Link to this heading"></a></h3>
<p>The CCS allows for a number of customizations to be made to a case.</p>
</section>
</section>
<section id="setting-up-your-environment-for-ccs">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Setting up your environment for CCS</a><a class="headerlink" href="#setting-up-your-environment-for-ccs" title="Link to this heading"></a></h2>
<p>After you’ve cloned the model repository, you’ll need to set up your environment to use the CCS.</p>
<p>First you’ll need to let CIME know which model configuration to use by setting the <code class="docutils literal notranslate"><span class="pre">CIME_MODEL</span></code> environment variable. In bash, use <strong>export</strong> as shown and replace
<strong>&lt;model&gt;</strong> with the appropriate text. Current possibilities are “e3sm”, “cesm”, or “ufs”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">CIME_MODEL</span><span class="o">=&lt;</span><span class="n">model</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>There are a number of possible ways to set CIME variables.
For variables that can be set in more than one way, the order of precedence is:</p>
<ul class="simple">
<li><p>variable appears in a command line argument to a CIME command</p></li>
<li><p>variable is set as an environment variable</p></li>
<li><p>variable is set in <code class="docutils literal notranslate"><span class="pre">$HOME/.cime/config</span></code> as explained further <a class="reference internal" href="model-configuration/customize-cime.html#customizing-cime"><span class="std std-ref">here</span></a>.</p></li>
<li><p>variable is set in a <code class="docutils literal notranslate"><span class="pre">$CASEROOT</span></code> xml file</p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="CIME documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="query-configuration.html" class="btn btn-neutral float-right" title="Query configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, U.S. National Science Foundation and U.S. Department of Energy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
<script>var version_json_loc = "../../../versions.json";</script>


</footer>
        </div>
      </div>
    </section>
  </div>
  

  <script type="text/javascript">
    let baseUriRegex = /(.*\/cime)\/.*/g;
    let parsedUri = baseUriRegex.exec(document.baseURI);

    if (parsedUri != null && parsedUri.length == 2) {
      let baseUri = parsedUri[1];

      $.get(`${baseUri}/versions/versions.json`, function(data) {
        let versionElement = $("#versions");

        Object.keys(data).forEach(function(key) {
          let value = data[key];

          let item = `<dd><a href="${baseUri}/versions/${key}/html/">${value}</a></dd>`

          versionElement.append(item);
        });
      });
    }
  </script>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: master
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl id="versions">
        <dt>Versions</dt>
      </dl>
      
      
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>