#!/usr/bin/env sh -f 
#===============================================================================
# Automatically generated module settings for hobart
# DO NOT EDIT THIS FILE DIRECTLY!  Please edit env_mach_specific.xml 
# in your CASEROOT. This file is overwritten every time modules are loaded!
#===============================================================================

.  /usr/share/Modules/init/sh
CIME_REPO=`./xmlquery CIME_REPOTAG -value`
if [ -n $CIME_REPO  ]
then 
  COMPILER=`./xmlquery  COMPILER          -value`
  MPILIB=`./xmlquery  MPILIB        -value`
  DEBUG=`./xmlquery  DEBUG         -value`
  OS=`./xmlquery  OS        -value`
  PROFILE_PAPI_ENABLE=`./xmlquery  PROFILE_PAPI_ENABLE -value`
fi
module purge  
if [ "$COMPILER" = "intel" ]
then
	module load compiler/intel/15.0.2.164
fi
if [ "$COMPILER" = "intel" ] && [ "$MPILIB" = "mvapich2" ]
then
	module unload mpi/intel/openmpi-1.8.1-qlc
	module load mpi/intel/mvapich2-1.8.1-qlc
	module load tool/parallel-netcdf/1.6.1/intel/mvapich2
fi
if [ "$COMPILER" = "pgi" ]
then
	module load compiler/pgi/15.1
fi
if [ "$COMPILER" = "pgi" ] && [ "$MPILIB" = "mvapich2" ]
then
	module unload mpi/pgi/openmpi-1.8.1-qlc
	module load mpi/pgi/mvapich2-1.8.1-qlc
	module load tool/parallel-netcdf/1.6.1/pgi/mvapich2
fi
if [ "$COMPILER" = "nag" ]
then
	module load compiler/nag/6.0
	module load tool/parallel-netcdf/1.6.1/nag/openmpi
	./xmlchange MPILIB=openmpi
fi
if [ "$COMPILER" = "gnu" ]
then
	module load compiler/gnu/4.8.3
fi
export P4_GLOBMEMSIZE=500000000
export NETCDF_DIR=$NETCDF_PATH
