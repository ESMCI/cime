

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Component sets &mdash; CIME master documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=30d551ce"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Model grids" href="grids.html" />
    <link rel="prev" title="2. Components" href="components.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            CIME
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../what_cime/index.html">What is CIME?</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Using the Case Control System</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html#configuring-the-case-control-system">Configuring the Case Control System</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cime-internals.html">1. Main Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="components.html">2. Components</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3. Component sets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#compset-longname">3.1. Compset longname</a></li>
<li class="toctree-l3"><a class="reference internal" href="#component-specific-settings-in-a-compset">3.2. Component specific settings in a compset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-new-compsets">3.3. Creating New Compsets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="grids.html">4. Model grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="machine.html">5. Defining the machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="pes-threads.html">6. Controlling processors and threads</a></li>
<li class="toctree-l2"><a class="reference internal" href="porting-cime.html">7. Porting and validating CIME on a new platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">8. Fortran Unit Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi-instance.html">9. Multi-instance component functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html">10. Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="cime-dir.html">11. Directory content</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../build_cpl/index.html">Building a Coupled Model with CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc_tools/index.html">Miscellaneous Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_user/index.html">User Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xml_files/index.html">XML Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CIME_api/modules.html">CIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools_api/modules.html">Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CIME</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Using the Case Control System</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3. </span>Component sets</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/users_guide/compsets.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="component-sets">
<span id="compsets"></span><h1><span class="section-number">3. </span>Component sets<a class="headerlink" href="#component-sets" title="Link to this heading"></a></h1>
<p>In CIME, multiple components can define compsets that are targeted to their model development needs.</p>
<p>Each component supports a set of compset longnames that are used in testing and supported in out of the box configurations.</p>
<p>To determine if the compset name to <a class="reference external" href="../Tools_user/create_newcase.html">create_newcase</a> is a supported component, CIME looks in the <strong>config_files.xml</strong> file and parses the
the xml element <code class="docutils literal notranslate"><span class="pre">COMPSETS_SPEC_FILE</span></code> in order to determine which component is defining the compset.</p>
<p>In the case of CESM, this xml element has the contents shown here, where <code class="docutils literal notranslate"><span class="pre">$SRCROOT</span></code> is the root of your CESM sandbox and contains <code class="docutils literal notranslate"><span class="pre">$CIMEROOT</span></code> as a subdirectory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;entry id=&quot;COMPSETS_SPEC_FILE&quot;&gt;
  &lt;type&gt;char&lt;/type&gt;
  &lt;default_value&gt;unset&lt;/default_value&gt;
  &lt;values&gt;
    &lt;value component=&quot;allactive&quot;&gt;$SRCROOT/cime_config/config_compsets.xml&lt;/value&gt;
    &lt;value component=&quot;drv&quot;      &gt;$CIMEROOT/src/drivers/mct/cime_config/config_compsets.xml&lt;/value&gt;
    &lt;value component=&quot;cam&quot;      &gt;$SRCROOT/components/cam/cime_config/config_compsets.xml&lt;/value&gt;
    &lt;value component=&quot;cism&quot;     &gt;$SRCROOT/components/cism/cime_config/config_compsets.xml&lt;/value&gt;
    &lt;value component=&quot;clm&quot;      &gt;$SRCROOT/components/clm/cime_config/config_compsets.xml&lt;/value&gt;
    &lt;value component=&quot;cice&quot;     &gt;$SRCROOT/components/cice/cime_config/config_compsets.xml&lt;/value&gt;
    &lt;value component=&quot;pop&quot;      &gt;$SRCROOT/components/pop/cime_config/config_compsets.xml&lt;/value&gt;
  &lt;/values&gt;
  &lt;group&gt;case_last&lt;/group&gt;
  &lt;file&gt;env_case.xml&lt;/file&gt;
  &lt;desc&gt;file containing specification of all compsets for primary component (for documentation only - DO NOT EDIT)&lt;/desc&gt;
  &lt;schema&gt;$CIMEROOT/config/xml_schemas/config_compsets.xsd&lt;/schema&gt;
&lt;/entry&gt;
</pre></div>
</div>
<p>Every file listed in COMPSETS_SPEC_FILE will be searched for the compset specified in the call to create_newcase.</p>
<p>CIME will note which component’s config_compsets.xml had the matching compset name and that component will be treated as
the <strong>primary component</strong> As an example, the primary component for a compset that has a prognostic atmosphere,
land and cice (in prescribed mode) and a data ocean is the atmosphere component (for cesm this is CAM) because the compset
is defined, using the above example, in <code class="docutils literal notranslate"><span class="pre">$SRCROOT/components/cam/cime_config/config_compsets.xml</span></code>
In a compset where all components are prognostic, the primary component will be <strong>allactive</strong>.</p>
<section id="compset-longname">
<span id="defining-compsets"></span><h2><span class="section-number">3.1. </span>Compset longname<a class="headerlink" href="#compset-longname" title="Link to this heading"></a></h2>
<p>Each config_compsets.xml file has a list of allowed component sets in the form of a longname and an alias.</p>
<p>A compset longname has this form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TIME_ATM</span><span class="p">[</span><span class="o">%</span><span class="n">phys</span><span class="p">]</span><span class="n">_LND</span><span class="p">[</span><span class="o">%</span><span class="n">phys</span><span class="p">]</span><span class="n">_ICE</span><span class="p">[</span><span class="o">%</span><span class="n">phys</span><span class="p">]</span><span class="n">_OCN</span><span class="p">[</span><span class="o">%</span><span class="n">phys</span><span class="p">]</span><span class="n">_ROF</span><span class="p">[</span><span class="o">%</span><span class="n">phys</span><span class="p">]</span><span class="n">_GLC</span><span class="p">[</span><span class="o">%</span><span class="n">phys</span><span class="p">]</span><span class="n">_WAV</span><span class="p">[</span><span class="o">%</span><span class="n">phys</span><span class="p">]</span><span class="n">_ESP</span><span class="p">[</span><span class="n">_BGC</span><span class="o">%</span><span class="n">phys</span><span class="p">]</span>
</pre></div>
</div>
<p>Supported values for each element of the longname:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TIME</span> <span class="o">=</span> <span class="n">model</span> <span class="n">time</span> <span class="n">period</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="mi">1850</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="mi">20</span><span class="n">TR</span><span class="p">,</span> <span class="n">SSP585</span><span class="o">...</span><span class="p">)</span>

<span class="n">CIME</span> <span class="n">supports</span> <span class="n">the</span> <span class="n">following</span> <span class="n">values</span> <span class="k">for</span> <span class="n">ATM</span><span class="p">,</span><span class="n">LND</span><span class="p">,</span><span class="n">ICE</span><span class="p">,</span><span class="n">OCN</span><span class="p">,</span><span class="n">ROF</span><span class="p">,</span><span class="n">GLC</span><span class="p">,</span><span class="n">WAV</span> <span class="ow">and</span> <span class="n">ESP</span><span class="o">.</span>
<span class="n">ATM</span>  <span class="o">=</span> <span class="p">[</span><span class="n">DATM</span><span class="p">,</span> <span class="n">SATM</span><span class="p">,</span> <span class="n">XATM</span><span class="p">]</span>
<span class="n">LND</span>  <span class="o">=</span> <span class="p">[</span><span class="n">DLND</span><span class="p">,</span> <span class="n">SLND</span><span class="p">,</span> <span class="n">XLND</span><span class="p">]</span>
<span class="n">ICE</span>  <span class="o">=</span> <span class="p">[</span><span class="n">DICE</span><span class="p">,</span> <span class="n">SICE</span><span class="p">,</span> <span class="n">SICE</span><span class="p">]</span>
<span class="n">OCN</span>  <span class="o">=</span> <span class="p">[</span><span class="n">DOCN</span><span class="p">,</span> <span class="n">SOCN</span><span class="p">,</span> <span class="n">XOCN</span><span class="p">]</span>
<span class="n">ROF</span>  <span class="o">=</span> <span class="p">[</span><span class="n">DROF</span><span class="p">,</span> <span class="n">SROF</span><span class="p">,</span> <span class="n">XROF</span><span class="p">]</span>
<span class="n">GLC</span>  <span class="o">=</span> <span class="p">[</span><span class="n">SGLC</span><span class="p">,</span> <span class="n">XGLC</span><span class="p">]</span>
<span class="n">WAV</span>  <span class="o">=</span> <span class="p">[</span><span class="n">SWAV</span><span class="p">,</span> <span class="n">XWAV</span><span class="p">]</span>
<span class="n">ESP</span>  <span class="o">=</span> <span class="p">[</span><span class="n">SESP</span><span class="p">]</span>
</pre></div>
</div>
<p>A CIME-driven model may have other options available.  Use <a class="reference external" href="../Tools_user/query_config.html">query_config</a> to determine the available options.</p>
<p>The OPTIONAL %phys attributes specify sub-modes of the given system.
For example, DOCN%DOM is the DOCN data ocean (rather than slab-ocean) mode.
<strong>All</strong> the possible %phys choices for each component are listed by calling <a class="reference external" href="../Tools_user/query_config.html">query_config –compsets</a>.
<strong>All</strong> data models have a %phys option that corresponds to the data model mode.</p>
</section>
<section id="component-specific-settings-in-a-compset">
<span id="defining-component-specific-compset-settings"></span><h2><span class="section-number">3.2. </span>Component specific settings in a compset<a class="headerlink" href="#component-specific-settings-in-a-compset" title="Link to this heading"></a></h2>
<p>Every model component also contains a <strong>config_component.xml</strong> file that has two functions:</p>
<ol class="arabic simple">
<li><p>Specifying the component-specific definitions of what can appear after the <code class="docutils literal notranslate"><span class="pre">%</span></code> in the compset longname, (for example, <code class="docutils literal notranslate"><span class="pre">DOM</span></code> in <code class="docutils literal notranslate"><span class="pre">DOCN%DOM</span></code>).</p></li>
<li><p>Specifying the compset-specific <code class="docutils literal notranslate"><span class="pre">$CASEROOT</span></code> xml variables.</p></li>
</ol>
<p>CIME first parses the following nodes to identify appropriate <strong>config_component.xml</strong> files for the driver. There are two such files; one is model-independent and the other is model-specific.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;entry id=&quot;CONFIG_CPL_FILE&quot;&gt;
   ...
   &lt;default_value&gt;$CIMEROOT/driver_cpl/cime_config/config_component.xml&lt;/default_value&gt;
   ..
   &lt;/entry&gt;

  &lt;entry id=&quot;CONFIG_CPL_FILE_MODEL_SPECIFIC&quot;&gt;
     &lt;default_value&gt;$CIMEROOT/driver_cpl/cime_config/config_component_$MODEL.xml&lt;/default_value&gt;
  &lt;/entry&gt;
</pre></div>
</div>
<p>CIME then parses each of the nodes listed below, using using the value of the <em>component</em> attribute to determine which xml files to use for the requested compset longname.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;CONFIG_ATM_FILE&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;CONFIG_ESP_FILE&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;CONFIG_ICE_FILE&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;CONFIG_GLC_FILE&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;CONFIG_LND_FILE&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;CONFIG_OCN_FILE&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;CONFIG_ROF_FILE&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;CONFIG_WAV_FILE&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>As an example, the possible atmosphere components for CESM have the following associated xml files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;entry id=&quot;CONFIG_ATM_FILE&quot;&gt;
  &lt;type&gt;char&lt;/type&gt;
  &lt;default_value&gt;unset&lt;/default_value&gt;
  &lt;values&gt;
    &lt;value component=&quot;cam&quot; &gt;$SRCROOT/components/cam/cime_config/config_component.xml&lt;/value&gt;
    &lt;value component=&quot;datm&quot;&gt;$CIMEROOT/components/data_comps/datm/cime_config/config_component.xml&lt;/value&gt;
    &lt;value component=&quot;satm&quot;&gt;$CIMEROOT/components/stub_comps/satm/cime_config/config_component.xml&lt;/value&gt;
    &lt;value component=&quot;xatm&quot;&gt;$CIMEROOT/components/xcpl_comps/xatm/cime_config/config_component.xml&lt;/value&gt;
  &lt;/values&gt;
  &lt;group&gt;case_last&lt;/group&gt;
  &lt;file&gt;env_case.xml&lt;/file&gt;
  &lt;desc&gt;file containing specification of component specific definitions and values(for documentation only - DO NOT EDIT)&lt;/desc&gt;
  &lt;schema&gt;$CIMEROOT/cime_config/xml_schemas/entry_id.xsd&lt;/schema&gt;
&lt;/entry&gt;
</pre></div>
</div>
<p>If the compset’s atm component attribute is <code class="docutils literal notranslate"><span class="pre">datm</span></code>, the file <code class="docutils literal notranslate"><span class="pre">$CIMEROOT/components/data_comps/datm/cime_config/config_component.xml</span></code> specifies all possible component settings for <code class="docutils literal notranslate"><span class="pre">DATM</span></code>.</p>
<p>The schema for every <strong>config_component.xml</strong> file has a <code class="docutils literal notranslate"><span class="pre">&lt;description&gt;</span></code> node that specifies all possible values that can follow the <code class="docutils literal notranslate"><span class="pre">%</span></code> character in the compset name.</p>
<p>To list the possible values, use the <a class="reference external" href="../Tools_user/query_config.html">query_config –component datm</a> command.</p>
</section>
<section id="creating-new-compsets">
<span id="id1"></span><h2><span class="section-number">3.3. </span>Creating New Compsets<a class="headerlink" href="#creating-new-compsets" title="Link to this heading"></a></h2>
<p>A description of how CIME interprets a compset name is given in the section <a class="reference internal" href="#defining-compsets"><span class="std std-ref">Compset longname</span></a> .</p>
<p>To create a new compset, you will at a minimum have to:</p>
<ol class="arabic simple">
<li><p>edit the approprite <code class="docutils literal notranslate"><span class="pre">config_components.xml</span></code> file(s) to add your new requirements</p></li>
<li><p>edit associate <code class="docutils literal notranslate"><span class="pre">namelist_definitions_xxx.xml</span></code> in the associated <code class="docutils literal notranslate"><span class="pre">cime_config</span></code> directories.
(e.g. if a change is made to the the <code class="docutils literal notranslate"><span class="pre">config_components.xml</span></code> for <code class="docutils literal notranslate"><span class="pre">DOCN</span></code> then <code class="docutils literal notranslate"><span class="pre">namelist_definitions_docn.xml</span></code> file will also need to be modified).</p></li>
</ol>
<p>It is important to point out, that you will need expertise in the target component(s) you are trying to modify in order to add new compset functionality for that particular component.
We provide a few examples below that outline this process for a few simple cases.</p>
<p>Say you want to add a new mode, <code class="docutils literal notranslate"><span class="pre">FOO</span></code>,  to the data ocean model, <code class="docutils literal notranslate"><span class="pre">DOCN</span></code>. Lets call this mode, <code class="docutils literal notranslate"><span class="pre">FOO</span></code>.
This would imply when parsing the compset longname, CIME would need to be able to recognize the string <code class="docutils literal notranslate"><span class="pre">_DOCN%FOO_</span></code>.
To enable this, you will need to do the following:</p>
<ol class="arabic">
<li><p>edit <code class="docutils literal notranslate"><span class="pre">$CIMEROOT/src/components/data_comps/docn/cime_config/config_component.xml</span></code> (see the <code class="docutils literal notranslate"><span class="pre">FOO</span></code> additions below).</p>
<ul>
<li><p>add an entry to the <code class="docutils literal notranslate"><span class="pre">&lt;description</span> <span class="pre">modifier</span> <span class="pre">block=&quot;1&quot;&gt;</span></code> block as shown below</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">description</span> <span class="n">modifier_mode</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">desc</span> <span class="n">ocn</span><span class="o">=</span><span class="s2">&quot;DOCN...[</span><span class="si">%F</span><span class="s2">OO]&quot;</span><span class="o">&gt;</span><span class="n">DOCN</span> <span class="o">&lt;/</span><span class="n">desc</span><span class="o">&gt;</span>
   <span class="o">...</span>
   <span class="o">&lt;</span><span class="n">desc</span> <span class="n">option</span><span class="o">=</span><span class="s2">&quot;FOO&quot;</span><span class="o">&gt;</span> <span class="n">new</span>  <span class="n">mode</span><span class="o">&lt;/</span><span class="n">desc</span><span class="o">&gt;</span>
   <span class="o">....</span>
<span class="o">&lt;/</span><span class="n">description</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>add an entry to the <code class="docutils literal notranslate"><span class="pre">&lt;entry</span> <span class="pre">id=&quot;DOCN_MODE&quot;&gt;</span></code> block as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;DOCN_MODE&quot;</span><span class="o">&gt;</span>
   <span class="o">....</span>
   <span class="o">&lt;</span><span class="n">values</span> <span class="n">match</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="o">&gt;</span>
   <span class="o">....</span>
   <span class="o">&lt;</span><span class="n">value</span> <span class="n">compset</span><span class="o">=</span><span class="s2">&quot;_DOCN</span><span class="si">%F</span><span class="s2">OO_&quot;</span> <span class="o">&gt;</span><span class="n">prescribed</span><span class="o">&lt;/</span><span class="n">value</span><span class="o">&gt;</span>
   <span class="o">...</span>
<span class="o">&lt;/</span><span class="n">entry</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>modify any of the other xml entries that need a new dependence on <code class="docutils literal notranslate"><span class="pre">FOO</span></code></p></li>
</ul>
</li>
<li><p>edit <code class="docutils literal notranslate"><span class="pre">$CIMEROOT/src/components/data_comps/docn/cime_config/namelist_definition_docn.xml</span></code> (see the <code class="docutils literal notranslate"><span class="pre">FOO</span></code> additions below).</p>
<ul>
<li><p>add an entry to the <code class="docutils literal notranslate"><span class="pre">datamode</span></code> block as shown below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">entry</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;datamode&quot;</span><span class="o">&gt;</span>
   <span class="o">....</span>
   <span class="o">&lt;</span><span class="n">valid_values</span><span class="o">&gt;...</span><span class="n">FOO</span><span class="o">&lt;/</span><span class="n">valid_values</span><span class="o">&gt;</span>
   <span class="o">...</span>
<span class="o">&lt;/</span><span class="n">entry</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>add additional changes to <code class="docutils literal notranslate"><span class="pre">namelist_definition_docn.xml</span></code> for the new mode</p></li>
</ul>
</li>
</ol>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>Add additional examples for creating a case</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="components.html" class="btn btn-neutral float-left" title="2. Components" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="grids.html" class="btn btn-neutral float-right" title="4. Model grids" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, U.S. National Science Foundation and U.S. Department of Energy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
<script>var version_json_loc = "../../../versions.json";</script>


</footer>
        </div>
      </div>
    </section>
  </div>
  

  <script type="text/javascript">
    let baseUriRegex = /(.*\/cime)\/.*/g;
    let parsedUri = baseUriRegex.exec(document.baseURI);

    if (parsedUri != null && parsedUri.length == 2) {
      let baseUri = parsedUri[1];

      $.get(`${baseUri}/versions/versions.json`, function(data) {
        let versionElement = $("#versions");

        Object.keys(data).forEach(function(key) {
          let value = data[key];

          let item = `<dd><a href="${baseUri}/versions/${key}/html/">${value}</a></dd>`

          versionElement.append(item);
        });
      });
    }
  </script>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: master
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl id="versions">
        <dt>Versions</dt>
      </dl>
      
      
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>